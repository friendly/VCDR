\documentclass{article}
\usepackage{url}
\makeatletter
\newcommand\code{\bgroup\@makeother\_\@makeother\~\@makeother\$\@makeother\^\@codex}
\def\@codex#1{{\normalfont\ttfamily\hyphenchar\font=-1 #1}\egroup}
\makeatother

\begin{document}
Testing use of code fragments with special characters without
having to escape them.

\begin{itemize}
  \item Formulas--
   code: \code{y ~ (A + B)^2};
   verb:  \verb|y ~ (A + B)^2|;
   url: \url{y ~ (A + B)^2}
  \item Underscored names--
   code: \code{str_length()};
   verb: \verb|str_length()|;
   url: \url{str_length()}
  \item \$ names--
   code: \code{Arthritis$sex};
   verb:  \verb|Arthritis$sex|;
   url: \url{Arthritis$sex}

\end{itemize}
\end{document}
