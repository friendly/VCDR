The packages vcd and vcdExtra contain many data sets with some examples
of analysis and graphical display. The goal of this exercise is to
familiarize yourself with these resources.

You can get a brief summary of these using the function datasets from
vcdExtra. Use the following to get a list of these with some
characteristics and titles. <<datasets\>\>= ds <- datasets(package =
c("vcd", "vcdExtra")) str(ds, vec.len = 2) @

How many data sets are there altogether? How many are there in each
package?

Make a tabular display of the frequencies by Package and class.

Choose one or two data sets from this list, and examine their help files
(e.g., help(Arthritis) or ?Arthritis). You can use, e.g.,
example(Arthritis) to run the code for a given example.

For each of the following data sets in the vcdExtra, identify which are
response variable(s) and which are explanatory. For factor variables,
which are unordered (nominal) and which should be treated as ordered?
Write a sentence or two describing substantitive questions of interest
for analysis of the data. (*Hint*: use data(foo, package="vcdExtra") to
load, and str(foo), help(foo) to examine data set foo.)

Abortion opinion data: Abortion

Caesarian Births: Caesar

Dayton Survey: DaytonSurvey

Minnesota High School Graduates: Hoyt

### Exercise 2.2

The data set UCBAdmissions is a 3-way table of frequencies classified by
Admit, Gender, and Dept.

Find the total number of cases contained in this table.

For each department, find the total number of applicants.

For each department, find the overall proportion of applicants who were
admitted.

Construct a tabular display of department (rows) and gender (columns),
showing the proportion of applicants in each cell who were admitted
relative to the total applicants in that cell.

### Exercise 2.3

The data set DanishWelfare in vcd gives a 4-way,
$3 \times 4 \times 3 \times 5$ table as a data frame in frequency form,
containing the variable Freq and four factors, Alcohol, Income, Status,
and Urban. The variable Alcohol can be considered as the response
variable, and the others as possible predictors.

Find the total number of cases represented in this table.

In this form, the variables Alcohol and Income should arguably be
considered *ordered* factors. Change them to make them ordered.

Convert this data frame to table form, DanishWelfare.tab, a 4-way array
containing the frequencies with appropriate variable names and level
names.

The variable Urban has 5 categories. Find the total frequencies in each
of these. How would you collapse the table to have only two categories,
City, Non-city?

Use structable or ftable to produce a pleasing flattened display of the
frequencies in the 4-way table. Choose the variables used as row and
column variables to make it easier to compare levels of Alcohol across
the other factors.

### Exercise 2.4

The data set `UKSoccer` in vcd gives the distributions of number of goals
scored by the 20 teams in the 1995/96 season of the Premier League of
the UK Football Association. 
<<UKsoccer-ex\>\>= 
data("UKSoccer", package = "vcd") 
ftable(UKSoccer) 
@ 
This two-way table classifies all
$20 \times 19 = 380$ games by the joint outcome (Home, Away), the number
of goals scored by the Home and Away teams. The value 4 in this table
actually represents 4 or more goals.

a. Verify that the total number of games represented in this table is 380.

b. Find the marginal total of the number of goals scored by each of the
home and away teams.

c. Express each of the marginal totals as proportions.

d. Comment on the distribution of the numbers of home-team and away-team
goals. Is there any evidence that home teams score more goals on
average?

### Exercise 2.5

The one-way frequency table `Saxony` in vcd records the frequencies of
families with 0, 1, 2, $\dots$ 12 male children, among 6115 families
with 12 children. This data set is used extensively in Chapter 3.
```{r eval=FALSE}
data("Saxony", package = "vcd") 
Saxony 
```
Another data set,
Geissler, in the vcdExtra, gives the complete tabulation of all
combinations of boys and girls in families with a given total number of
children (size). The task here is to create an equivalent table,
Saxony12 from the Geissler data. 
```{r eval=FALSE}
data("Geissler", package = "vcdExtra") 
str(Geissler) 
```

a. Use subset to create a data frame, `sax12` containing the Geissler
observations in families with `size==12`.

b. Select the columns for boys and Freq.

c. Use xtabs with a formula, `Freq ~ boys`, to create the one-way table.

d. Do the same steps again to create a one-way table, `Saxony11`, containing
similar frequencies for families of `size==11`.

### Exercise 2.6

*Interactive coding of table factors*: Some statistical and graphical
methods for are implemented only for two-way tables, but can be extended
to 3+-way tables by recoding the factors to interactive combinations
along the rows and/or columns, in a way similar to what ftable and
structable do for printed displays.

For the `UCBAdmissions` data, produce a two-way table object, `UCB.tab2`,
that has the combinations of Admit and Gender as the rows, and Dept as
its columns, to look like the result below:

                     Dept
    Admit:Gender        A   B   C   D   E   F
      Admitted:Female  89  17 202 131  94  24
      Admitted:Male   512 353 120 138  53  22
      Rejected:Female  19   8 391 244 299 317
      Rejected:Male   313 207 205 279 138 351

a. Try this the long way: convert `UCBAdmissions` to a data frame
(`as.data.frame()`), manipulate the factors (e.g., `interaction()`), then
convert back to a table (`as.data.frame()`).

b. Try this the short way: both `ftable()` and `structable()` have `as.matrix`
methods that convert their result to a matrix.

### Exercise 2.7

The data set `VisualAcuity` in vcd gives a $4 \times 4 \times 2$ table as
a frequency data frame. 
```{r eval=FALSE}
data("VisualAcuity", package = "vcd") 
str(VisualAcuity) 
```

a. From this, use `xtabs()` to create two $4\times 4$ frequency tables, one for
each gender.

b. Use `structable()` to create a nicely organized tabular display.

c. Use `xtable()` to create a LaTeX or HTML table.
